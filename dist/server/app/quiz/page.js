(()=>{var e={};e.id=9705,e.ids=[9705],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},86574:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>u});var s=r(73137),a=r(54647),i=r(4183),n=r.n(i),o=r(71775),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=s.AppPageRouteModule,u=["",{children:["quiz",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,68262)),"/Users/zeds/Documents/Coding/ANDELA/Projects/quizmify/src/app/quiz/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,37226)),"/Users/zeds/Documents/Coding/ANDELA/Projects/quizmify/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,51918,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/zeds/Documents/Coding/ANDELA/Projects/quizmify/src/app/quiz/page.tsx"],m="/quiz/page",p={require:r,loadChunk:()=>Promise.resolve()},x=new d({definition:{kind:a.x.APP_PAGE,page:"/quiz/page",pathname:"/quiz",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},10345:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,42796,23)),Promise.resolve().then(r.bind(r,62408))},62408:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>components_QuizCreation});var s=r(60080),a=r(9885),i=r.n(a),n=r(46601),o=r(66558),l=r(19098);let d=l.z.object({topic:l.z.string().min(4,{message:"Topic must be at least 4 characters long"}).max(50),type:l.z.enum(["mcq","open_ended"]),amount:l.z.number().min(1).max(10)});var u=r(83894),c=r(71085),m=r(1712),p=r(43618),x=r(91971);let f=(0,x.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),h=a.forwardRef(({className:e,...t},r)=>s.jsx(p.f,{ref:r,className:(0,m.cn)(f(),e),...t}));h.displayName=p.f.displayName;let g=o.RV,y=a.createContext({}),FormField=({...e})=>s.jsx(y.Provider,{value:{name:e.name},children:s.jsx(o.Qr,{...e})}),useFormField=()=>{let e=a.useContext(y),t=a.useContext(j),{getFieldState:r,formState:s}=(0,o.Gc)(),i=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=t;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...i}},j=a.createContext({}),v=a.forwardRef(({className:e,...t},r)=>{let i=a.useId();return s.jsx(j.Provider,{value:{id:i},children:s.jsx("div",{ref:r,className:(0,m.cn)("space-y-2",e),...t})})});v.displayName="FormItem";let b=a.forwardRef(({className:e,...t},r)=>{let{error:a,formItemId:i}=useFormField();return s.jsx(h,{ref:r,className:(0,m.cn)(a&&"text-destructive",e),htmlFor:i,...t})});b.displayName="FormLabel";let w=a.forwardRef(({...e},t)=>{let{error:r,formItemId:a,formDescriptionId:i,formMessageId:n}=useFormField();return s.jsx(c.g7,{ref:t,id:a,"aria-describedby":r?`${i} ${n}`:`${i}`,"aria-invalid":!!r,...e})});w.displayName="FormControl";let q=a.forwardRef(({className:e,...t},r)=>{let{formDescriptionId:a}=useFormField();return s.jsx("p",{ref:r,id:a,className:(0,m.cn)("text-[0.8rem] text-muted-foreground",e),...t})});q.displayName="FormDescription";let N=a.forwardRef(({className:e,children:t,...r},a)=>{let{error:i,formMessageId:n}=useFormField(),o=i?String(i?.message):t;return o?s.jsx("p",{ref:a,id:n,className:(0,m.cn)("text-[0.8rem] font-medium text-destructive",e),...r,children:o}):null});N.displayName="FormMessage";var _=r(69957);let z=a.forwardRef(({className:e,type:t,...r},a)=>s.jsx("input",{type:t,className:(0,m.cn)("flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));z.displayName="Input";var P=r(69735),F=r(78937),C=r(22299);let E=a.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...a},i)=>s.jsx(C.f,{ref:i,decorative:r,orientation:t,className:(0,m.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...a}));E.displayName=C.f.displayName;var I=r(57114),S=r(79529),A=r(93258),D=r(64722),Q=r(10762),R=r(81915);let k=a.forwardRef(({className:e,value:t,...r},a)=>s.jsx(R.fC,{ref:a,className:(0,m.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...r,children:s.jsx(R.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));k.displayName=R.fC.displayName;var M=r(52451),$=r.n(M);let V=["Generating questions...","Unleashing the power of curiosity...","Diving deep into the ocean of questions..","Harnessing the collective knowledge of the cosmos...","Igniting the flame of wonder and exploration..."],components_LoadingQuestions=({finished:e})=>{let[t,r]=i().useState(10),[a,n]=i().useState(V[0]);return i().useEffect(()=>{let e=setInterval(()=>{let e=Math.floor(Math.random()*V.length);n(V[e])},3e3);return()=>clearInterval(e)},[]),i().useEffect(()=>{let t=setInterval(()=>{r(t=>e?100:100===t?0:.1>Math.random()?t+2:t+.5)},100);return()=>clearInterval(t)},[e]),(0,s.jsxs)("div",{className:"absolute -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2 w-[70vw] md:w-[60vw] flex flex-col items-center",children:[s.jsx($(),{src:"/loading-darkMode.gif",width:400,height:400,alt:"loading"}),s.jsx(k,{value:t,className:"w-full mt-4"}),s.jsx("h1",{className:"mt-2 text-xl",children:a})]})},components_QuizCreation=({topicParam:e})=>{let t=(0,I.useRouter)(),[r,a]=i().useState(!1),[l,c]=i().useState(!1),{toast:m}=(0,Q.pm)(),{mutate:p,isLoading:x}=(0,S.D)({mutationFn:async({amount:e,topic:t,type:r})=>{try{let s=await A.default.post("/api/game",{amount:e,topic:t,type:r});return s?.data}catch(e){console.log("dispatch error:",e)}}}),f=(0,o.cI)({resolver:(0,u.F)(d),defaultValues:{amount:3,topic:e,type:"open_ended"}}),onSubmit=async e=>{a(!0),p(e,{onError:e=>{a(!1),e instanceof D.d7&&e.response?.status===500&&m({title:"Error",description:"Something went wrong. Please try again later.",variant:"destructive"})},onSuccess:({gameId:e})=>{c(!0),setTimeout(()=>{"mcq"===f.getValues("type")?t.push(`/play/mcq/${e}`):"open_ended"===f.getValues("type")&&t.push(`/play/open-ended/${e}`)},2e3)}})};return(f.watch(),r)?s.jsx(components_LoadingQuestions,{finished:l}):s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:(0,s.jsxs)(n.Zb,{children:[(0,s.jsxs)(n.Ol,{children:[s.jsx(n.ll,{className:"text-2xl font-bold",children:"Quiz Creation"}),s.jsx(n.SZ,{children:"Choose a topic"})]}),s.jsx(n.aY,{children:s.jsx(g,{...f,children:(0,s.jsxs)("form",{onSubmit:f.handleSubmit(onSubmit),className:"space-y-8",children:[s.jsx(FormField,{control:f.control,name:"topic",render:({field:e})=>(0,s.jsxs)(v,{children:[s.jsx(b,{children:"Topic"}),s.jsx(w,{children:s.jsx(z,{placeholder:"Enter a topic...",...e})}),s.jsx(q,{children:"Please provide a topic"}),s.jsx(N,{})]})}),s.jsx(FormField,{control:f.control,name:"amount",render:({field:e})=>(0,s.jsxs)(v,{children:[s.jsx(b,{children:"Number of Questions"}),s.jsx(w,{children:s.jsx(z,{placeholder:"Enter an amount...",...e,type:"number",min:1,max:10,onChange:e=>{f.setValue("amount",parseInt(e.target.value))}})}),s.jsx(q,{children:"Please provide a topic"}),s.jsx(N,{})]})}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)(_.z,{type:"button",onClick:()=>{f.setValue("type","mcq")},className:"w-1/2 rounded-none rounded-l-lg",variant:"mcq"===f.getValues("type")?"default":"secondary",children:[s.jsx(P.Z,{className:"h-4 w-4 mr-2"}),"Multiple Choice"]}),s.jsx(E,{orientation:"vertical"}),(0,s.jsxs)(_.z,{type:"button",onClick:()=>{f.setValue("type","open_ended")},className:"w-1/2 rounded-none rounded-r-lg",variant:"open_ended"===f.getValues("type")?"default":"secondary",children:[s.jsx(F.Z,{className:"h-4 w-4 mr-2"}),"Open Ended"]})]}),s.jsx(_.z,{disabled:x,type:"submit",children:"Submit"})]})})})]})})}},68262:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m,metadata:()=>c});var s=r(48144),a=r(17536);let i=(0,a.createProxy)(String.raw`/Users/zeds/Documents/Coding/ANDELA/Projects/quizmify/src/components/QuizCreation.tsx`),{__esModule:n,$$typeof:o}=i,l=i.default;var d=r(10478);r(53830);var u=r(6465);let c={title:"Quiz | Quizmify"},QuizPage=async({searchParams:e})=>{let t=await (0,d.P)();return t?.user?s.jsx(l,{topicParam:e.topic??""}):(0,u.redirect)("/")},m=QuizPage}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[7395,4959,9506,5226,4276,7662,2299,1344,478,7060,93,762],()=>__webpack_exec__(86574));module.exports=r})();